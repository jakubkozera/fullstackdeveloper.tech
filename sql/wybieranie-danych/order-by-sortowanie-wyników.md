Oprócz wybierania wyników czy ich filtrowania, w prosty sposób za pomocą SQL'a możemy też je sortować  

W języku SQL klauzula `ORDER BY` jest używana w zapytaniach `SELECT` do sortowania wyników według określonej kolumny lub kolumn. Pozwala to na uporządkowanie wyników w odpowiedniej kolejności przed ich prezentacją użytkownikowi.

Klauzula `ORDER BY` jest szczególnie przydatna, gdy chcemy, aby wyniki zapytania były wyświetlane w określonym porządku, na przykład alfabetycznie, numerycznie lub chronologicznie.

Składnia klauzuli `ORDER BY` jest prosta. Możemy podać jedną lub więcej kolumn, według których chcemy posortować wyniki, oraz kierunek sortowania (rosnąco lub malejąco).

Przykładowa składnia klauzuli `ORDER BY`:

```
SELECT column1, column2, ...
FROM table_name
ORDER BY column1 [ASC|DESC], column2 [ASC|DESC], ...;

```

Gdzie:

- `column1`, `column2`, ... to nazwy kolumn, według których chcemy posortować wyniki.
- `table_name` to nazwa tabeli, z której pobieramy dane.
- `ASC` oznacza sortowanie rosnące (domyślne, jeśli nie jest podane).
- `DESC` oznacza sortowanie malejące.

Przykładowo, aby posortować wyniki zapytania SELECT tabeli Customers według kolumny LastName w porządku alfabetycznym rosnącym, użylibyśmy klauzuli ORDER BY w ten sposób:


```sql
SELECT *
FROM SalesLT.Customer
ORDER BY LastName 

```

Jeżeli mamy potrzebę sortowania więcej niż 1 kolumny, możemy to zrobić, przykładowo, w następujący sposób:



```sql
SELECT *
FROM SalesLT.Customer
ORDER BY LastName ASC, FirstName DESC;

```

W połączeniu z ograniczeniem zwracanych rezultatów przez `TOP 1` możemy zastosować zapytanie z `ORDER BY` w celu znalezienia największej wartości w kolumnie. W przypadku, gdy wartość jest unikalna, zapytanie zwróci jedną wartość. W przeciwnym przypadku zwróci jedną z wartości, które są największe.

Przykładowo, aby pobrać zamówienie z największą kwotą całkowitą, możemy użyć zapytania:




```sql
SELECT TOP 1 *
FROM [SalesLT].[SalesOrderHeader]
ORDER BY SubTotal DESC;
```

Klauzula ORDER BY może być również stosowana do sortowania wyników w oparciu o wyrażenia lub funkcje, a nie tylko o konkretne kolumny.


---

## Zadanie praktyczne:


Napisz zapytanie SQL, które wykonają:
1. Sortowanie szczegółów zamówienia (tabela `SalesLT.SalesOrderDetail`) według ilości zamówionej (`OrderQty`) w kolejności malejącej, zwracając informacje z kolumn `SalesOrderID`, `OrderQty` oraz `UnitPrice`, tylko dla zamówień, które mają ilość zamówionych produktów większą niż 5.:





```sql
SELECT SalesOrderId, OrderQty, UnitPrice
FROM SalesLT.SalesOrderDetail
WHERE OrderQty > 5
ORDER BY OrderQty DESC


```

2. Sortowanie zamówień (tabela: `SalesLT.SalesOrderHeader`) według daty zamówienia `OrderDate` w kolejności rosnącej, dodatkowo jeśli zamówienia mają tą samą datę to posortujemy je według ceny całkowitej `SubTotal` w kolejności malejącej.



```sql
SELECT *
FROM SalesLT.SalesOrderHeader
ORDER BY OrderDate ASC, SubTotal DESC
```

3\. Sortowanie produktów (tabela `[SalesLT].[Product]`) po cenie `ListPrice`, w celu znalezienia i zwrócenia tylko najtańszego</span>


```sql
SELECT TOP 1 *
FROM SalesLT.Product
ORDER BY ListPrice ASC
```


(1 row affected)



Total execution time: 00:00:00.008





<table><tr><th>ProductID</th><th>Name</th><th>ProductNumber</th><th>Color</th><th>StandardCost</th><th>ListPrice</th><th>Size</th><th>Weight</th><th>ProductCategoryID</th><th>ProductModelID</th><th>SellStartDate</th><th>SellEndDate</th><th>DiscontinuedDate</th><th>ThumbNailPhoto</th><th>ThumbnailPhotoFileName</th><th>rowguid</th><th>ModifiedDate</th></tr><tr><td>873</td><td>Patch Kit/8 Patches</td><td>PK-7098</td><td>NULL</td><td>0,8565</td><td>2,29</td><td>NULL</td><td>NULL</td><td>41</td><td>114</td><td>2007-07-01 00:00:00.000</td><td>NULL</td><td>NULL</td><td>0x47494638396150003200F70000959493FDFDFD766C6C8C8B8AE6E6E67A3D4EB88493B2B2B2F8F8F8871A38A39D9CC6C6C6918D8EAAAAAA6A6162E4E4E4999999FAFAFA5352515D5B59794752DDDDDD88822A8E8383817B23C2C2C2E2E2E271706CF3F3F3EEEEEEDADADA9B9292AEAEAED7D7D7514F4ECACACA7D7A79807E7AD1D1D1B8B8B8797372CCCCCD862A434C4C4CDCDCDCB4B4B49F9F9F343333ACA44C980C33B8A7ACABA6A48583829283863F3F3FCECECE76273C6E6C6AD4D4D48471728B7C7C9C9629615B5ABDBAB992908F2A2828575553A2A2A29B9995F9F31965656443412DD8D8D82D181DBCBCBCB5B2B1E0E0E074737253494AC0BEBD84807DA6A1A16A5A5D5419294B4947ABA8A7A6A5A2464545C8C7C7424242D3D2D2F2EC1E9C96536C6765636260494645BABABA4644432B251DADAAA8C7C5C3816B6F7C777662535469152DE8E8E65E5C47676061B9B6B67E1B36770C2AAFADA99C9C9DBDBDBDD0CFCD9C980FC3C2BFB6B6B6656462C4C3C38B8985DDDCDAD1D1CF8D0E31B3AFAECDCCC9840E2F6E48513D3B303938384F4D4B595856A49F9D3D1520605F5DEEEEEDABABABCFCFCDA8A8A8988F8ECBCAC7BEBCBCCECDCD1F1D1BBBB9B87B12303C3B3B621D30BFBFBFFEFEFEE8E8E8BEBEBEA4A4A4EAEAEAECECECF7F7F7EDEDEDBFBFC0494848F1F1F1F5F5F5F4F4F4F0F0F0F6F6F6EBEBEBA5A5A6B26C80E9E9E99B183CC8C0C3B57889C5B4B9A53C59BA909CBF9CA69E2446A84863A1304FC2A8B0AB546C921136AE607670545B8F1A3B7F35498B223F9E7E887F7F7F650E26F5F4F44C4B479A9A9BE5E4E3A3A3A3B7B5B2C8C030BAB7B7B9B9B9696543CAC513F1F0F0706F55AFAFAFBBBAB8807B48AFA6A9E9E9E8EAE416F4F4F5F7F7F654520DECEBEAD7D6D3E0E0DFDFDFDFD4D3D1F2F2F0F1F1F2FBFBFBF8F7F73A31337571478A8888DAD9D7A09998DFDFDCEFEFEF837F7FD0CFD0716061925D6CF7F6F56A3C47938887ECE522B5B5B5A6A6A6FCFCFC9F6A79E4E3E1E1E1E1D9D9D96E42328F757C8878799E9B9886757AB3AC43A49F36AF9A159F9C2090868ACCCBCBE0DFDD666666FFFFFF21F90400000000002C00000000500032000008FF0029FD1B48B0A0C183062B295C582980C300EDB445D416210202049B368D02158AC32751E23869CA6489C0030DD62A7808A1C3C48D110B325C2AD64259034C2E0422DCC9F31FC3860E27561C5AF162C68D1D3F861C59F264CA952D5FC69C59F366CE9E580B2A0CDA2EA24524C542811A751181458C1A397A042992A449942A59BA842993A64D9C3AB3EEDC0AD1A2A562CA14058370A05331029A3E6D2A8B16E9DAA56E9DC68D4A97EADDAB7A11366CA7641D8860704AA57065A0162B03292090F36009DB62A36993B265FAF6A95CA975ABE2CD7CB05205001052C86A650AD6AB183168E5BAC52A85B72564E2690255F6A85AA56D9BC2853A77AA5DAB79790FFFACE4A8932C54C813A8C065CB813F7F14623807B7C411010ED5633FCE5E7B72F7DC9785A7175F0840E04A0C49BCB0C2045EBCF79E2D31ACC2400D51D0618D28AF59271B64DAD9469977BA61366025376861112843AC82E00B9E0C3288040EFA13832B10F0000E24F17092A17ED8D1261977B859061E6F95D070C506D984144C0A311412C4156174921A09E84412036A522CB2840E9950D7D875B345B6DD6D957DB75B66950020822107C0A3C192ACF032090E14ACC2CA2CADA472C03C1040500E0363DC400036A358072687FD0159668802F2D49012224CD0C41D5AB890822931BC024B0DB5C899400CB0A8B24A27008C63860BF158D2C1271C84E22A07D864FF136687FE0569A688583584C400581000C102071C9042290C9070402C85BC20820F14A840CB2BAD04DB09042EB01382259A7420CE274A21FA239920068866003954700E235620420910DE7C904E17ABECF1880D4234F89E0AA640900A2CB5B8322C1C4364A001019968C28948A488E9E17F429E9955430DEC82C50663D0D082123FF0A18037AAB811C41713D8E1E02DAD4060801B68D0820A2C06E8F94B4E4C104C4AC2B42A1AEE900306008A24C00C0004142EAC73C913C440D00A2A7BD069C47B52C807012C53BCE0CB1905A810432CADA440033F48686049260AD7BAA8B8398FE2CF1D440C00C00620C431429F7DEA624A2C31A850002EB040C00F829248FF60AF03781FC0C01258C4F3C02961DB0C20CE0F0780C025FEF421010986C071420A70A4E2CAA87DD660002C3194EC8A1B62643188C8F7AA32403A0A10630213969C5233B88B3BFC70049C0442CD06396CB081320BFC328B1F579B224B6A7D1E00C1797EE0F0C7D2EFD1B28A003C7CC0470AB0CB9E28ED0DE39A6B3BD81851453D7624C30C1C0074F24A1281A0A3C22DA8E099C20070EB52CB2BB4A8400105AF7422053D8BE0C30D609738EEDDAA518E0AC0282E2184312C0B06C920812EFCF008D389CC16B8A0850182E30A3DC54D15AC88812918B083EAB1410B872BE0876AE7BD5C2180132F98C104D400037CA4A013F678411826003D7FDC42161050C51EFF62C00A514DAB4F9D40C10E2EA080272081602A64D801C553897664C3085030841AEEA10E0ACCE2782ED8C0201E848A4E940259DC70DFB3FA9502769C6107E99801162A60099A6D6F85DD4360023711072AE4E008F7D8423E90130B55A4A2130330440166A1AF183C4212F5F207066FA18A5294831E1F5802391E90093B7E0B8F53A422023411840D18C3025B28823C72819C18CCC215FCC0440D9A70B22785CC41B9300009CAC0C446848000338BA2AD18251E9F6843072FE8423730508422E8C31F52C0C52D9003AD14A4A00C6E9882200C013D07C42015E58063151650815368C24763022531A9D80E10ECC2175CE8C1318AF00C18BDA759314085352130FFB7BA15400AF089C5012E194047688014E714E6D81887266DB8A01480E0C230E6208D47182246108A452776B10B7F0060159F43C52D28E98D1282E3073A400C7F3E29C57512A91829A0C423C490842BF4D041B8B8527052908A7D4C600D0CE8047152A1440ADDC103A738183A17364CB28DAB0137B4DA1F0CE10523DC5465A930DA7188D80C1A38A10B348080147810C014C083141D58693A5BEAD4016942342AA28508843001AADAC1AAF199452964800A0AF8C3012A684E29206086FF5D001CC44061B6D4CAD485DA2E2B0110560A54118349D8E00A8290C020EAEA055602D1142A70903757B153575C80040CF88116E0614E4D7872AD4D6568AE0260A914FF84100D41784120B24085B99E21539DC0842970C120AB92AC14989A662D0E009C10C40C6C0ABDD9637B5245385893B231D8032F9C1408495C0107315045700CB0071BAC60107F4085D168618BBFDEC214A9A18409584080D8CD4E9D6DCDD53181239C5AA027067E9882185E30C4549462002998C51EE6A4535650007AB640053FBC51052590A30204D01E4B633B5D4769231B15B8030D68201A03841039569AC50DCF10862E98C314A65845293AC10A74F8A0AADE4C41173E30863B20E10196B82F5B654BDD764083007A8044142E2080A0AEE27EC8F197372EBB0249888006D3BA541B6C208841E00D08F4484714281102200B99C32D4C2002C4518D44FC40FF0150E84218BC605D571C2F052BB0819E3D2189177C41040348452C22318904A04216020873859EA861D83A36CD1E56021036E089400482CA7CDE85944A91054F5CE1D39516C4191CE08371B8C314865C4217C83A062CD0B7D18D952EA4F7120023BCC0067DB6C16EB390851554590412F0B50856E0094FE850020E20C105CC60062074621C3CA80138D86002AFC15A6CB2D6E35EDAE18D627BFAB257F004B02520011B8820DC57B8AC0D6E2D08B0128110E058040ACC908E0F54E1A8503CF3A3B5AD196DB023DD36C842B803716E096421E0C65E771684F002DD8AA00B4078C30F3236034244610C8D58ED295E1B6B16F2BB3711B883793BED694F08610506FF2736AF03D1F02CB45C023900C032F4A0033990E1098DB8C38581C9716C7B9C8A110046C049BE824FDBC0137A4E77772F1B862F387D1066200419C241000258C303F1F0003C80E9DAE8FE9C48DA1087085AB40296F739D7590883277C1186A6FB62AE86D8C000F820070288E2131D2005E248C189B42ED5E77964273672C07276839A0A61A04266E9EA852EE4000525C00311DE40860A70422CA188952840E22D47679B8A01E885329AC03B215041F19AF5811D7A470228F8AC1E51788330E890887212CA31D8E891D7034FC56DA4A10F56A0C106BAD0850D9821F24020C2C597F0033A30420FD4C88306D2D0010E148A47B3BAE3903B4CDD0888230F4FB00277008000807A5841F64F20431FAEF18D70BC230DD338043238D08B68644443FBF9BBE2BAA70C4AF8FFFF001880FF371307600510307E00F032C1C00E88000207B0047570022700064A50811678814A0006C5B08112580775B00EC17200CAA00C20000288D0008AA00898100C43E00270F00B0708000C1010003B</td><td>tirepatch_kit_small.gif</td><td>36e638e4-68df-411b-930a-daad57221aa6</td><td>2008-03-11 10:01:36.827</td></tr></table>


